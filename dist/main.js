(()=>{"use strict";var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var s in r)t.o(r,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:r[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{default:()=>l,options:()=>u});const r=require("k6"),s=require("k6/http");var o=t.n(s);const a="https://petstore.swagger.io/v2";class n{static addPet(t){return o().post(`${a}/pet`,JSON.stringify(t),{headers:{"Content-Type":"application/json"}})}static findByStatus(t){return o().get(`${a}/pet/findByStatus?status=${t}`)}static getPetById(t){return o().get(`${a}/pet/${t}`)}}const i="https://petstore.swagger.io/v2";class c{static getInventory(){return o().get(`${i}/store/inventory`,{headers:{Accept:"application/json"}})}static placeOrder(t,e){const r=JSON.stringify({petId:t,quantity:e,shipDate:(new Date).toISOString(),status:"placed",complete:!0});return o().post(`${i}/store/order`,r,{headers:{"Content-Type":"application/json",Accept:"application/json"}})}static getOrderById(t){return o().get(`${i}/store/order/${t}`)}static deleteOrder(t){return o().del(`${i}/store/order/${t}`)}}const d="https://petstore.swagger.io/v2";class p{static createUser(t){return o().post(`${d}/user`,JSON.stringify(t),{headers:{"Content-Type":"application/json"}})}static login(t,e){return o().get(`${d}/user/login?username=${t}&password=${e}`)}}const u={stages:[{duration:"30s",target:20},{duration:"1m",target:20},{duration:"30s",target:0}],thresholds:{http_req_duration:["p(95)<500"],http_req_failed:["rate<0.01"]}};function l(){const t=Math.floor(1e6*Math.random()),e=`k6_user_${__VU}_${t}`;(0,r.group)("User Operations",()=>{const s=p.createUser({id:t,username:e,firstName:"K6",lastName:"Tester",email:`${e}@example.com`,password:"password123"});(0,r.check)(s,{"user: status is 200":t=>200===t.status});const o=p.login(e,"password123");(0,r.check)(o,{"user: login successful":t=>200===t.status})}),(0,r.group)("Pet Inventory Search",()=>{const t=n.findByStatus("available");(0,r.check)(t,{"pet: findByStatus returns 200":t=>200===t.status,"pet: inventory is not empty":t=>Array.isArray(t.json())&&t.json().length>0})}),(0,r.group)("Store Transactions",()=>{const t=c.getInventory();(0,r.check)(t,{"store: inventory status 200":t=>200===t.status});const e=c.placeOrder(101,1),s=e.json("id");if((0,r.check)(e,{"store: order placed":t=>200===t.status,"store: order ID generated":()=>void 0!==s}),s){const t=c.deleteOrder(s);(0,r.check)(t,{"store: order deleted":t=>200===t.status})}}),(0,r.sleep)(1)}var g=exports;for(var y in e)g[y]=e[y];e.__esModule&&Object.defineProperty(g,"__esModule",{value:!0})})();